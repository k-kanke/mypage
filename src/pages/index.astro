---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import Timeline from '../components/Timeline.astro';

const hero = {
	name: 'k-kanke',
	role: '横浜国立大学 理工学部 数物・電子情報系学科 電子情報システムEP２年',
	lead: 'ここに短い自己紹介文を入れます。得意分野や興味を一言で。',
};

const links = [
	{ label: 'GitHub', url: 'https://github.com/k-kanke', icon: 'github' },
	{ label: 'X', url: 'https://x.com/k__kanke', icon: 'x' },
	{ label: 'Blog', url: 'https://example.com', icon: 'web' },
];

const timelineEntries = await getCollection('timeline');
const timelineItems = await Promise.all(
	timelineEntries.map(async (entry) => {
		const { Content } = await entry.render();
		return {
			...entry.data,
			Content,
		};
	}),
);
---

<Layout>
	<main class="page">
		<Hero {...hero} links={links} />
		<Timeline items={timelineItems} />
	</main>
</Layout>

<style>
	.page {
		min-height: 100%;
		padding: 64px 20px 96px;
		max-width: 960px;
		margin: 0 auto;
		display: grid;
		gap: 40px;
	}

	@media (max-width: 640px) {
		.page {
			padding: 48px 16px 72px;
		}
	}
</style>
